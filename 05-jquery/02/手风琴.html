<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.staticfile.org/minireset.css/0.0.2/minireset.min.css">
    <script src="https://cdn.staticfile.org/jquery/1.12.4/jquery.min.js"></script>
    <style>
        .stage {
            width: 500px;
            background: red;
            overflow: hidden;
            position: relative;
        }

        li {
            width: 200px;
            overflow: hidden;
            /* float: left; */
            /* transition: all 0.3s; */
            position: absolute;
            top: 0;
            left: 0;
        }

        li img {
            max-width: none;
            width: 200px;
            display: block;
        }

        li:first-child {
            position: relative;
        }

        li:nth-child(2) {
            left: 200px;
        }

        li:nth-child(3) {
            left: 300px;
        }

        li:nth-child(4) {
            left: 400px;
        }
    </style>
</head>

<body>
    xx
    <br>
    xx

    <ul class="stage">
        <li><img src="./img/datouwang1.jpg" alt=""></li>
        <li><img src="./img/datouwang2.jpg" alt=""></li>
        <li><img src="./img/datouwang3.jpg" alt=""></li>
        <li><img src="./img/datouwang4.jpg" alt=""></li>
    </ul>
    <script>
        // $('li').mouseover(function () {
        //     // this.classList.add('active')
        //     // $(this).addClass('active')
        //     // $(this).siblings().removeClass('active')
        //     $(this).addClass('active').siblings().removeClass('active')
        // })

        // $('li').hover(function () {
        //     $(this).animate({width: '200px'}).siblings().animate({width: '100px'})

        // }, function () {
        //     $('li').stop(true)
        // })

        // 第0张 永远不动
        // 当前张前面的包括自己 100 * index
        // 后面的 index-1 * 100 + width

        $('li').hover(function () {
            // index() 方法返回指定元素相对于其他指定元素的 index 位置。
            // console.log($(this).index())
            // console.log($('li'))

            var currentIndex = $(this).index()

            // forEach jq里面改成了 each方法  index,element 参数顺序有变化
            // element DOM元素
            $('li').each(function (index, element) {
                // console.log(element, index)
                if (index <= currentIndex) {
                    // $(element).css('left', 100 * index + 'px')
                    $(element).animate({ left: 100 * index + 'px' }, 3000)

                } else {
                    // $(element).css('left', 100 * (index - 1) + 200 + 'px')
                    $(element).animate({ left: 100 * (index - 1) + 200 + 'px' },3000)
                }
            })
        }, function () {
            // $('li').stop(true)
            $('li').clearQueue()
        })

    </script>
</body>

</html>