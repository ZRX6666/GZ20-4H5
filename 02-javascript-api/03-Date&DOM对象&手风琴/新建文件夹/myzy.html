<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <style>
            .stage {
                position: relative;
                width: 500px;
                overflow: hidden;
            }

            .stage .mask1 {
                width: 60%;
                height: 100%;
                /* background: rgba(255, 0, 0, 0.5); */
                background: url("./img/2.jpg");
                background-size: auto 100%;
                position: absolute;
                top: 0;
                left: 0;
            }

            .stage .mask2 {
                width: 30%;
                height: 100%;
                background: url("./img/1.jpg");
                background-size: auto 100%;
                position: absolute;
                top: 0;
                left: 0;
            }

            .stage img {
                max-width: 100%;
                display: block;
            }

            #input1 {
                position: absolute;
                left: 0;
                bottom: 60%;
                width: 100%;
                margin: 0;
                /* display: none; */
                opacity: 0;
                z-index: 100;
            }

            #input2 {
                position: absolute;
                left: 0;
                bottom: 40%;
                width: 100%;
                margin: 0;
                /* display: none; */
                opacity: 0;
                z-index: 9;
            }

            .progress {
                width: 100%;
                height: 10px;
                background: rgba(255, 255, 255, 0.3);
                position: absolute;
                left: 0;
                bottom: 61%;
                z-index: 99;
            }

            .progress span {
                width: 20px;
                height: 20px;
                border-radius: 20px;
                background: skyblue;
                display: block;
                position: relative;
                top: 0;
                left: 30%;
                margin-left: -10px;
                margin-top: -3px;
                z-index: 99;
            }

            .progress2 {
                width: 100%;
                height: 10px;
                background: rgba(255, 255, 255, 0.3);
                position: absolute;
                left: 0;
                bottom: 40%;
            }

            .progress2 span {
                width: 20px;
                height: 20px;
                border-radius: 20px;
                background: pink;
                display: block;
                position: relative;
                top: 0;
                left: 60%;
                margin-left: -10px;
                margin-top: -3px;
            }
        </style>
    </head>

    <body>
        <!-- <img src="./img/before.jpg" alt=""> -->

        <div class="stage">
            <div class="mask1"></div>
            <img src="./img/3.jpg" alt="" />
            <input type="range" name="" id="input1" min="0" value="30" max="100" step="1" />
            <div class="progress">
                <span></span>
            </div>
            <div class="mask2"></div>

            <input type="range" name="" id="input2" min="0" value="60" max="100" step="1" />
            <div class="progress2">
                <span></span>
            </div>
        </div>

        <script>
            var stage = document.getElementsByClassName("stage")[0];
            var mask1 = stage.getElementsByClassName("mask1")[0];
            var mask2 = stage.getElementsByClassName("mask2")[0];
            var range = document.getElementById("input1");
            var range2 = document.getElementById("input2");
            var dot1 = document.querySelector(".progress span");
            var dot2 = document.querySelector(".progress2 span");
            console.log(mask2, mask1);
            range.oninput = function () {
                // console.log(this.value, range2.value, this.value >= range2.value);

                if (Number(this.value) >= Number(range2.value)) {
                    range2.value = this.value;
                    dot2.style.left = this.value + "%";
                    mask1.style.width = this.value + "%";
                }
                mask2.style.width = this.value + "%";
                dot1.style.left = this.value + "%";
            };

            // '9' >= '63' true

            range2.oninput = function () {
                if (Number(this.value) <= Number(range.value)) {
                    range.value = this.value;
                    dot1.style.left = this.value + "%";
                    mask2.style.width = this.value + "%";
                    console.log(mask1.style.width)

                }
                mask1.style.width = this.value + "%";
                dot2.style.left = this.value + "%";

            };
        </script>

        <!-- 作业 https://www.17sucai.com/pins/demo-show?id=25562 -->
    </body>
</html>
