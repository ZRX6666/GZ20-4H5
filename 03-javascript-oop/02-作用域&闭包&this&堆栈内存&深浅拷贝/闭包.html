<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <!-- <script>
      var counter = 0;
      function add() {
        return (counter += 1);
      }
      add();
      add();
      add();
      console.log(counter);
      // 页面上的任何脚本都能改变计数器，即便没有调用 add() 函数
      counter = 10;
      // 假设counter是游戏得分 需要保护起来 不能让其他的函数方法修改 只能使用add方法

      add();
      console.log(counter);
    </script> -->

    <!-- <script>
      function add() {
        var counter = 0;
        return (counter += 1);
      }
      add();
      add();
      add();
      console.log(counter);
      // 本意是想输出 3, 但事与愿违，输出的都是 1 !
      // 每次调用 counter 重新赋值
      // JavaScript 内嵌函数可以解决该问题。
    </script> -->

    <!-- <script>
      function add() {
        var counter = 0;
        function plus() {
          counter += 1;
          // 可以访问父级作用域counter
        }
        plus();
        return counter;
      }
      add()
      add()
    </script> -->

    <script>
      function add() {
        var counter = 0;
        function plus() {
          return (counter += 1);
          // 可以访问父级作用域counter
        }
        return plus;
        // 返回plus函数 plus可以访问 add作用域里面的 counter
      }

      var x = add();

      // counter保护起来了 只能通过 x()调用
      // 这就是闭包
    </script>
  </body>
</html>
