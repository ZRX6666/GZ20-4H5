<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <!-- <button>0</button>
    <button>0</button> -->

    <!-- <script>
        var count = 0
        var btn = document.querySelector('button')
        btn.onclick = function () {
            count++
            // console.log(count)
            this.innerText = count;
        }
    </script> -->

    <!-- <script>
      var count = 0;

      var btns = document.querySelectorAll("button");
      for (var i = 0; i < btns.length; i++) {
        btns[i].onclick = function () {
          count++;
          // console.log(count)
          this.innerText = count;
          // this当前事件触发 btn
        };
      }
    </script> -->

    <!-- <script>
        var count1 = 0;
        var count2 = 0;
        
        var btns = document.querySelectorAll("button");
        btns[0].onclick = function () {
            count1++
            // console.log(count)
            this.innerText = count1;
        }
        btns[1].onclick = function () {
            count2++
            // console.log(count)
            this.innerText = count2;
        }
      </script> -->

    <script>
      // 构造器
      var Btn = function (n) {
        this.count = n;
      };
      // 添加方法
      Btn.prototype.draw = function () {
        // 创建节点 直接保存到对象
        this.node = document.createElement("button");
        // 设置内容
        this.node.innerText = this.count;
        // 追加节点
        document.body.appendChild(this.node);

        // 给节点绑定事件
        // 绑定this 另取一个变量保存外层this
        var _this = this;
        this.node.onclick = function () {
          //   console.log(this, _this);
          // 这里的this指向时间触发的DOM元素
          _this.count++;
          _this.node.innerText = _this.count;
        };
      };

      // 实例化
      var btn1 = new Btn(0);
      btn1.draw();

      var btn2 = new Btn(10);
      btn2.draw();

      new Btn(50).draw();
      // 这个实例对象没有变量接收 
      new Btn(50).draw();
      new Btn(50).draw();

    </script>
  </body>
</html>
